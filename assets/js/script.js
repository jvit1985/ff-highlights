const draftBtn = document.querySelector("#draft");
const select = document.querySelector("#dropdown");

let players = [
    {name: "Jonathan Taylor"},
    {name: "Christian McCaffrey"},
    {name: "Derrick Henry"},
    {name: "Dalvin Cook"},
    {name: "Austin Ekeler"},
    {name: "Joe Mixon"},
    {name: "Najee Harris"},
    {name: "Nick Chubb"},
    {name: "Justin Jefferson"},
    {name: "Cooper Kupp"},
    {name: "Ja'Marr Chase"},
    {name: "Travis Kelce"},
    {name: "D'Andre Swift"},
    {name: "Stefon Diggs"},
    {name: "Mark Andrews"},
    {name: "Davante Adams"},
    {name: "Saquon Barkley"},
    {name: "Alvin Kamara"},
    {name: "Deebo Samuel"},
    {name: "CeeDee Lamb"},
    {name: "Aaron Jones"},
    {name: "Javonte Williams"},
    {name: "Leonard Fournette"},
    {name: "Mike Evans"},
    {name: "Tyreek Hill"},
    {name: "James Conner"},
    {name: "A.J. Brown"},
    {name: "Ezekiel Elliott"},
    {name: "Tee Higgins"},
    {name: "Kyle Pitts"},
    {name: "Josh Allen"},
    {name: "Michael Pittman Jr."},
    {name: "Keenan Allen"},
    {name: "Cam Akers"},
    {name: "Mike Williams"},
    {name: "DJ Moore"},
    {name: "Terry McLaurin"},
    {name: "David Montgomery"},
    {name: "Courtland Sutton"},
    {name: "Breece Hall"},
    {name: "George Kittle"},
    {name: "Diontae Johnson"},
    {name: "Elijah Mitchell"},
    {name: "DK Metcalf"},
    {name: "Justin Herbert"},
    {name: "Jaylen Waddle"},
    {name: "Antonio Gibson"},
    {name: "J.K. Dobbins"},
    {name: "Travis Etienne Jr."},
    {name: "Brandin Cooks"},
    {name: "Darren Waller"},
    {name: "Patrick Mahomes II"},
    {name: "Lamar Jackson"},
    {name: "Marquise Brown"},
    {name: "Gabriel Davis"},
    {name: "Allen Robinson II"},
    {name: "Josh Jacobs"},
    {name: "Jerry Jeudy"},
    {name: "Amari Cooper"},
    {name: "AJ Dillon"},
    {name: "Darnell Mooney"},
    {name: "Kyler Murray"},
    {name: "Damien Harris"},
    {name: "Rashod Bateman"},
    {name: "Jalen Hurts"},
    {name: "Elijah Moore"},
    {name: "Chris Godwin"},
    {name: "Dalton Schultz"},
    {name: "Miles Sanders"},
    {name: "Michael Thomas"},
    {name: "Adam Thielen"},
    {name: "Joe Burrow"},
    {name: "Dallas Goedert"},
    {name: "Juju Smith-Schuster"},
    {name: "T.J. Hockenson"},
    {name: "Rashaad Penny"},
    {name: "Amon-Ra St. Brown"},
    {name: "Clyde Edwards-Helaire"},
    {name: "DeVonta Smith"},
    {name: "Tom Brady"},
    {name: "Brandon Aiyuk"},
    {name: "Kareem Hunt"},
    {name: "Dak Prescott"},
    {name: "Russell Wilson"},
    {name: "Chase Edmonds"},
    {name: "Devin Singletary"},
    {name: "Tony Pollard"},
    {name: "Allen Lazard"},
    {name: "Tyler Lockett"},
    {name: "Melvin Gordon III"},
    {name: "Drake London"},
    {name: "DeAndre Hopkins"},
    {name: "Dawson Knox"},
    {name: "Rhamondre Stevenson"},
    {name: "Ken Walker III"},
    {name: "Zach Ertz"},
    {name: "Christian Kirk"},
    {name: "Cordarrelle Patterson"},
    {name: "Trey Lance"},
    {name: "Hunter Renfrow"},
    {name: "Matthew Stafford"},
    {name: "Treylon Burks"},
    {name: "Robert Woods"},
    {name: "Aaron Rodgers"},
    {name: "Chase Claypool"},
    {name: "Kadarius Toney"},
    {name: "Kirk Cousins"},
    {name: "Derek Carr"},
    {name: "Hunter Henry"},
    {name: "Chris Olave"},
    {name: "James Cook"},
    {name: "Pat Freiermuth"},
    {name: "Garrett Wilson"},
    {name: "Darrell Henderson Jr."},
    {name: "James Robinson"},
    {name: "Ronald Jones II"},
    {name: "Cole Kmet"},
    {name: "Michael Carter"},
    {name: "Tua Tagovailoa"},
    {name: "Russell Gage"},
    {name: "Mike Gesicki"},
    {name: "Justin Fields"},
    {name: "Alexander Mattison"},
    {name: "Skyy Moore"},
    {name: "Marquez Valdes-Scantling"},
    {name: "Tyler Boyd"},
    {name: "Trevor Lawrence"},
    {name: "Dameon Pierce"},
    {name: "Isaiah Spiller"},
    {name: "Kenny Golladay"},
    {name: "Noah Fant"},
    {name: "Irv Smith Jr."},
    {name: "Raheem Mostert"},
    {name: "Michael Gallup"},
    {name: "Jarvis Landry"},
    {name: "DeVante Parker"},
    {name: "Jakobi Meyers"},
    {name: "Kenneth Gainwell"},
    {name: "Albert Okwuegbunam"},
    {name: "Robert Tonyan"},
    {name: "Jameis Winston"},
    {name: "Jamaal Williams"},
    {name: "David Njoku"},
    {name: "DJ Chark Jr."},
    {name: "Tyler Higbee"},
    {name: "Matt Ryan"},
    {name: "Gus Edwards"},
    {name: "Gerald Everett"},
    {name: "Ryan Tannehill"},
    {name: "Tyler Allgeier"},
    {name: "Nyheim Hines"},
    {name: "Khalil Herbert"},
    {name: "Buffalo Bills Defense"},
    {name: "Rondale Moore"},
    {name: "Marlon Mack"},
    {name: "Daniel Jones"},
    {name: "Tampa Bay Buccaneers Defense"},
    {name: "Evan Engram"},
    {name: "Mac Jones"},
    {name: "Sony Michel"},
    {name: "Julio Jones"},
    {name: "Rachaad White"},
    {name: "Zach Wilson"},
    {name: "J.D. McKissic"},
    {name: "Logan Thomas"},
    {name: "San Francisco 49ers Defense"},
    {name: "Corey Davis"},
    {name: "Jahan Dotson"},
    {name: "Austin Hooper"},
    {name: "Indianapolis Colts Defense"},
    {name: "Carson Wentz"},
    {name: "Mecole Hardman"},
    {name: "Van Jefferson"},
    {name: "Jameson Williams"},
    {name: "Darrel Williams"},
    {name: "Mark Ingram II"},
    {name: "D'Onta Foreman"},
    {name: "Robbie Anderson"},
    {name: "Justin Tucker"},
    {name: "Denver Broncos Defense"},
    {name: "New England Patriots Defense"},
    {name: "Nico Collins"},
    {name: "New Orleans Saints Defense"},
    {name: "Jared Goff"},
    {name: "Los Angeles Rams Defense"},
    {name: "Christian Watson"},
    {name: "Hayden Hurst"},
    {name: "Deshaun Watson"},
    {name: "Tyler Bass"},
    {name: "Marvin Jones Jr."},
    {name: "Brian Robinson Jr."},
    {name: "K.J. Osborn"},
    {name: "Joshua Palmer"},
    {name: "George Pickens"},
    {name: "Matt Gay"},
    {name: "Davis Mills"},
    {name: "Dallas Cowboys Defense"},
    {name: "Kendrick Bourne"},
    {name: "Baker Mayfield"},
    {name: "Daniel Carlson"},
    {name: "Donovan Peoples-Jones"},
    {name: "Zamir White"},
    {name: "Evan McPherson"},
    {name: "Los Angeles Chargers Defense"},
    {name: "Jamison Crowder"},
    {name: "Jalen Tolbert"},
    {name: "Miami Dolphins Defense"},
    {name: "Boston Scott"},
    {name: "Green Bay Packers Defense"},
    {name: "Curtis Samuel"},
    {name: "Kansas City Chiefs Defense"},
    {name: "KJ Hamler"},
    {name: "Kenyan Drake"},
    {name: "Parris Campbell"},
    {name: "Ryan Succop"},
    {name: "Harrison Butker"},
    {name: "A.J. Green"},
    {name: "Matt Prater"},
    {name: "Cleveland Browns Defense"},
    {name: "Tyrion Davis-Price"},
    {name: "Brevin Jordan"},
    {name: "Baltimore Ravens Defense"},
    {name: "Chubba Hubbard"},
    {name: "Philadelphia Eagles Defense"},
    {name: "David Bell"},
    {name: "Pittsburgh Steelers Defense"},
    {name: "Wan'Dale Robinson"},
    {name: "Sterling Shepard"},
    {name: "Rodrigo Blankenship"},
    {name: "Younghoe Koo"},
    {name: "Marcus Mariota"},
    {name: "Jonnu Smith"},
    {name: "Alec Pierce"},
    {name: "Laviska Shenault Jr."},
    {name: "Jason Sanders"},
    {name: "Damien Williams"},
    {name: "Brandon McManus"},
    {name: "Nick Folk"},
    {name: "Arizona Cardinals Defense"},
    {name: "D'Ernest Johnson"},
    {name: "Adam Trautman"},
    {name: "Trey Sermon"},
    {name: "Samaje Perine"},
    {name: "Mitch Trubisky"},
    {name: "Terrace Marshall Jr."},
    {name: "Robbie Gould"},
    {name: "Jake Elliott"},
    {name: "Mo Alie-Cox"},
    {name: "Byron Pringle"},
    {name: "Cincinnati Bengals Defense"},
    {name: "Jeff Wilson Jr."},
    {name: "Tennessee Titans Defense"},
    {name: "Myles Gaskin"},
    {name: "Dan Arnold"},
    {name: "William Fuller V"},
    {name: "Bryan Edwards"},
    {name: "Dustin Hopkins"},
    {name: "Jerick McKinnon"},
    {name: "Carolina Panthers Defense"},
    {name: "Braxton Berrios"},
    {name: "Isaiah McKenzie"},
    {name: "Rex Burkhead"},
    {name: "Greg Zuerlein"},
    {name: "Zack Moss"},
    {name: "Zay Jones"},
    {name: "Will Lutz"},
    {name: "Marquez Callaway"},
    {name: "Odell Beckham Jr."},
    {name: "C.J. Uzomah"},
    {name: "Minnesota Vikings Defense"},
    {name: "Chris Boswell"},
    {name: "Randall Cobb"},
    {name: "Mike Davis"},
    {name: "Sammy Watkins"},
    {name: "Cameron Brate"},
    {name: "Matt Breida"},
    {name: "Chicago Bears Defense"},
    {name: "Mason Crosby"},
    {name: "Cedrick Wilson Jr."},
    {name: "Romeo Doubs"},
    {name: "Hassan Haskins"},
    {name: "O.J. Howard"},
    {name: "Phillip Lindsay"},
    {name: "Trey McBride"},
    {name: "Graham Gano"},
    {name: "Washington Commanders Defense"},
    {name: "Nelson Agholor"},
    {name: "Jason Myers"},
    {name: "Greg Joseph"},
    {name: "New York Giants Defense"},
    {name: "Eno Benjamin"},
    {name: "Ke'Shawn Vaughn"},
    {name: "Cairo Santos"},
    {name: "Seattle Seahawks Defense"},
    {name: "New York Jets Defense"},
    {name: "Tre'Quan Smith"},
    {name: "Randy Bullock"},
    {name: "Ka'imi Fairbairn"},
    {name: "Drew Lock"},
    {name: "Josh Reynolds"},
    {name: "Jimmy Garoppolo"},
    {name: "Jacksonville Jaguars Defense"},
    {name: "Kenny Pickett"},
    {name: "Darius Slayton"},
    {name: "Quez Watkins"},
    {name: "Pierre Strong Jr."},
    {name: "Kyle Rudolph"},
    {name: "Dyami Brown"},
    {name: "Kyren Williams"},
    {name: "Emmanuel Sanders"},
    {name: "Chris Evans"},
    {name: "Isiah Pacheco"},
    {name: "Ty Johnson"},
    {name: "Jalen Reagor"},
    {name: "Justin Jackson"},
    {name: "Quintez Cephus"},
    {name: "Joshua Kelley"},
    {name: "Velus Jones Jr."},
    {name: "Duke Johnson Jr."},
    {name: "Geno Smith"},
    {name: "Greg Dulcich"},
    {name: "Chase McLaughlin"},
    {name: "Darrynton Evans"},
    {name: "Devin Duvernay"},
    {name: "Tyler Badie"},
    {name: "Cole Beasley"},
    {name: "Jacoby Brissett"},
    {name: "Josh Lambo"},
    {name: "Sam Darnold"},
    {name: "Nick Westbrook-Ikhine"},
    {name: "Giovani Bernard"},
    {name: "Harrison Bryant"},
    {name: "Jared Cook"},
    {name: "Tevin Coleman"},
    {name: "Salvon Ahmed"},
    {name: "Tyler Conklin"},
    {name: "Daniel Bellinger"},
    {name: "Ricky Seals-Jones"},
    {name: "Snoop Conner"},
    {name: "Jaret Patterson"},
    {name: "Jerome Ford"},
    {name: "Tommy Tremble"},
    {name: "Desmond Ridder"},
    {name: "David Johnson"},
    {name: "Tyquan Thornton"},
    {name: "T.Y. Hilton"},
    {name: "Donald Parham Jr."},
    {name: "Anthony Firkser"},
    {name: "Malcolm Brown"},
    {name: "Jalen Guyton"},
    {name: "Dontrell Hilliard"},
    {name: "James Washington"},
    {name: "Latavius Murray"},
    {name: "James Proche II"},
    {name: "John Metchie III"},
    {name: "Las Vegas Raiders Defense"},
    {name: "Jelani Woods"},
    {name: "Devontae Booker"},
    {name: "Foster Moreau"},
    {name: "Demarcus Robinson"},
    {name: "Atlanta Falcons Defense"},
    {name: "Keaontay Ingram"},
    {name: "Devonta Freeman"},
    {name: "Amari Rodgers"},
    {name: "Detroit Lions Defense"},
    {name: "Cade Otton"},
    {name: "Cade York"},
    {name: "Kyle Philips"},
    {name: "Khalil Shakir"},
    {name: "Wayne Gallman Jr."},
    {name: "Jonathan Garibay"},
    {name: "John Bates"},
    {name: "Olamide Zaccheaus"},
    {name: "Benny Snell Jr."},
    {name: "Anthony Schwartz"},
    {name: "Kylen Granson"},
    {name: "Calvin Austin III"},
    {name: "Taysom Hill"},
    {name: "Dee Eskridge"},
    {name: "Teddy Bridgewater"},
    {name: "Houston Texans Defense"},
    {name: "Malik Willis"},
    {name: "Jauan Jennings"},
    {name: "Laquon Treadwell"},
    {name: "Rashard Higgins"},
    {name: "Kene Nwangwu"},
    {name: "Danny Gray"},
    {name: "Joey Slye"},
    {name: "Tristan Vizcaino"},
    {name: "Austin Seibert"},
    {name: "Antonio Brown"},
    {name: "Zane Gonzalez"},
    {name: "Ryan Santoso"},
    {name: "Riley Patterson"},
    {name: "Brett Maher"},
    {name: "Lirim Hajrullahu"},
    {name: "Eddy Pineiro"},
    {name: "Andrew Jacas"},
    {name: "KaVontae Turpin"}
];

//append player list to options in dropdown
function displayPlayers() {
    let playerLength = players.length;

    for (let i = 0; i < playerLength; i++) {
        var optn = players[i].name;
        var playerEl = document.createElement("option");
        playerEl.textContent = optn;
        playerEl.value = optn;
        select.append(playerEl);
    }
}

function onPlayerReady(event) {
    event.target.playVideo();
}

// function addtoBoard() {
//     //add player from select.value to column, may need to assign an id and then pass to corresponding id in board
// }

// function addtoTeam() {
//     //add player from select.value to assign based on id values
// }

function getVideo() {
    let draftedPlayer = select.value
    $.ajax({
        type: 'GET',
        url: 'https://www.googleapis.com/youtube/v3/search',
        data: {
            key: "AIzaSyC5dZoaUi1EoYQIByQdRCV6S6iT7eBTaZE",
            q: select.value + 'highlights',
            part: 'snippet',
            maxResults: 1,
            type: 'video',
            videoEmbeddable: true,
        },
        success: function(data) {
            // code to open in embedded iframe
            $('iframe').attr('src', 'https://www.youtube.com/embed/' + data.items[0].id.videoId);
            // code to open in new window
            // window.open('https:www.youtube.com/watch?v=' + data.items[0].id.videoId, '_blank');
        },
        error: function(response){
            console.log('Response Failed');
        }
    });
    // addtoBoard();
    //remove player from list after drafted
    removeDraftedPlayer(draftedPlayer);
}

function removeDraftedPlayer (name) {
    let deleteIndex = players.indexOf(name);
    if (deleteIndex !== -1) {
        players.splice(deleteIndex, 1);
    }
    displayPlayers();
}

displayPlayers();

draftBtn.addEventListener("click", getVideo);


$(document).ready(function() {
    $('.dropdown').select2();
});